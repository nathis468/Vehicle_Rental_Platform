<div class="container">
  <mat-tab-group (selectedTabChange)="changeType($event)">
    <mat-tab label="Damage" class="tab-content"> 
      <div class="header">
        <button mat-raised-button (click)="addNewService()"> <i class="fa-regular fa-plus"></i> New Damage record</button>
      </div>
      <div class="content mat-elevation-z8">
        <table mat-table [dataSource]="dataSource">
          
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        
          <ng-container matColumnDef="carModelName">
            <th mat-header-cell *matHeaderCellDef> Car Model Name </th>
            <td mat-cell *matCellDef="let element"> {{element.carModelName}} </td>
          </ng-container>
          
          <ng-container matColumnDef="serviceDate">
            <th mat-header-cell *matHeaderCellDef> Service Date </th>
            <td mat-cell *matCellDef="let element"> {{element.serviceDate | date}} </td>
          </ng-container>
          
          <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef> Price </th>
            <td mat-cell *matCellDef="let element"> {{element.price}} </td>
          </ng-container>
      
          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef> Description </th>
            <td mat-cell *matCellDef="let element"> {{element.description}} </td>
          </ng-container>
          
          <ng-container matColumnDef="image">
            <th mat-header-cell *matHeaderCellDef> Image </th>
            <td mat-cell *matCellDef="let element">
              <img [src]="element.image" alt="Car Image" width="330" height="210">
            </td>
          </ng-container>
          
          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef> Status </th>
            <td mat-cell *matCellDef="let element"> {{element.status}} 
              <button *ngIf="element.status === 'pending'" mat-flat-button color="primary" (click)="statusChange(element)">Done</button>
            </td>
            
          </ng-container>  
          
        </table>
        
        <mat-paginator #paginator [pageSizeOptions]="[5, 10, 20]"
          showFirstLastButtons
          aria-label="Select page of periodic elements"
          [pageIndex]="paginator.pageIndex"
          [pageSize]="paginator.pageSize"
          [length]="paginator.length"
          (page)="onPageChanges($event)"
          >
        </mat-paginator>  
      </div>
    </mat-tab>
    <mat-tab label="Service" class="tab-content"> 
      <div class="header">
        <button mat-raised-button (click)="addNewService()"> <i class="fa-regular fa-plus"></i> New Service record</button>
      </div>
      <div class="content mat-elevation-z8">
        
        <table mat-table [dataSource]="dataSource">
          
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          
          <ng-container matColumnDef="carModelName">
            <th mat-header-cell *matHeaderCellDef> Car Model Name </th>
            <td mat-cell *matCellDef="let element"> {{element.carModelName}} </td>
          </ng-container>
          
          <ng-container matColumnDef="serviceDate">
            <th mat-header-cell *matHeaderCellDef> Service Date </th>
            <td mat-cell *matCellDef="let element"> {{element.serviceDate | date}} </td>
          </ng-container>
          
          <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef> Price </th>
            <td mat-cell *matCellDef="let element"> {{element.price}} </td>
            </ng-container>
        
            <ng-container matColumnDef="description">
              <th mat-header-cell *matHeaderCellDef> Description </th>
              <td mat-cell *matCellDef="let element"> {{element.description}} </td>
            </ng-container>
            
            <ng-container matColumnDef="image">
              <th mat-header-cell *matHeaderCellDef> Image </th>
              <td mat-cell *matCellDef="let element">
                <img [src]="element.image" alt="Car Image" width="330" height="210">
              </td>
            </ng-container>
            
            <ng-container matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef> Status </th>
              <td mat-cell *matCellDef="let element"> {{element.status}} 
                <button *ngIf="element.status === 'pending'" mat-flat-button color="primary" (click)="statusChange(element)">Done</button>
              </td>
              
            </ng-container>  
            
          </table>
        
          <mat-paginator #paginator [pageSizeOptions]="[5, 10, 20]"
          showFirstLastButtons
          aria-label="Select page of periodic elements"
          [pageIndex]="paginator.pageIndex"
          [pageSize]="paginator.pageSize"
          [length]="paginator.length"
          (page)="onPageChanges($event)"
          >
        </mat-paginator>

      </div>
    </mat-tab>
  </mat-tab-group>
</div>